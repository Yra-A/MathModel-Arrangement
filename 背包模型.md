# 背包模型

[toc]

## 0-1 背包问题

有N件物品和一个容量为v的背包。第i件物品的重量是w[i]，其价值是v[i]。求解将哪些物品装入背包可使这些物品的重量总和不超过背包容量，且价值总和最大。

**常用算法**

1.整数规划

2.递归方法（无记忆枚举法）

3.动态规划（有记忆枚举法）

4.遗传算法

5.模拟退火算法

6.蚁群算法

7.。。。。。。

**基本思维方式**

分支限界法（树状图）例子如下：

![img](https://img-blog.csdnimg.cn/20190603133729331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwOTQ2OTIx,size_16,color_FFFFFF,t_70)

状态转移方程（为优化空间复杂度）

f[i] [v] = max{ f[i-1] [v], f[i-1] [v-w[i]]+v[i] }。

其中f[i] [v]表示前i件物品恰放入一个容量为v的背包可以获得的最大价值。

在“将前i件物品放入容量为v的背包中”这个子问题中，只需考虑第i件物品的策略（放或不放），那么就可以转化为一个只牵扯前i-1件物品的问题。如果不放第i件物品，那么问题就转化为“前i-1件物品放入容量为v的背包中”，价值为f[i-1] [v]；如果放第i件物品，那么问题就转化为“前i-1件物品放入剩下的容量为v-w[i]的背包中”，此时能获得的最大价值就是f [i-1] [v-w[i]]再加上通过放入第i件物品获得的价值v[i]。

**常用智能算法来优化模型**

## 完全背包问题

完全背包问题建立在0-1背包问题之上，与0-1背包问题不同的是完全背包问题每种物品**不限量**，而0-1背包问题每种物品**只有一件**。

**算法与思维方式雷同，只需将问题转化即可。**

例如：简单将每种物品拆分成几件同样的物品等。。。

## 多重背包问题

多重背包问题介于"0-1背包问题"和"完全背包问题"之间，即每种物品 i 都有**数量限制n[i]**。

**算法与思维方式雷同，只需将问题转化即可。**

对于第i种物品有n+1种策略：取0件，取1件……取 n件。令f[v]表示前i种物品恰放入一个容量为v的背包的最大权值，则：f[v]=max{f[v-k * v[i]]+ k*w[i]|0<=k<=n}。

优化算法：单调队列优化的DP

## 混合背包问题

混合背包就是0-1背包，完全背包，多重背包的综合问题，即所有物品中，有的物品件数为"1"，有的物品件数为"有限"，有的物品件数为"无限"。不过无限量的物品实际最多可放的件数为“背包总容量除以单件物品的重量”。**以此将“混合背包问题”转化为"多重背包问题"。**

## 二维背包问题

对于每件物品除价值外，具有两种不同的属性(如质量和体积)。选择这件物品必须同时付出这两种属性相关的代价，对于每种代价都有一个可付出的最大值（如背包最大载重量和背包容积）。问怎样选择物品可以得到最大的价值。设这两种代价分别为代价1和代价2，第i件物品所需的两种代价分别为a[i]和b[i]。两种代价可付出的最大值分别为W和V。而物品的价值为p。

**代价增加一维，只需状态也加一维即可。**设f[v]表示前i件物品付出两种代价分别为v和u时可获得的最大价值。状态转移方程就是：f[i] [w] [v] = max{f[i-1] [w] [v], f[i-1] [w-a[i]] [v-b[i]] + p[i]}。

## 分组背包问题

有N件物品和一个容量为V的背包。第i件物品的费用是c，价值是w。这些物品被划分为若干组，每组中的物品互相冲突，最多选一件。求解将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。

**算法:**这个问题变成了每组物品有若干种策略：是选择本组的某一件，还是一件都不选。也就是说设f[k] [v]表示前k组物品花费费用v能取得的最大权值，则有f[k] [v]=max{f[k-1] [v],f[k-1] [v-c]+w|物品i属于第k组}。

## 背包问题应用

### 问题变形

对于一个给定了背包容量、物品费用、物品间相互关系（分组、依赖等）的背包问题，若再给定每个物品的价值后求可得到的最大价值外，还可以得到装满背包或将背包装至某一指定容量的方案总数。

### 应用

背包问题在现实中也有着广泛的应用，很多实际问题都可以被抽象为背包问题，比如股市投资、国家预算、资源分配，工业生产和运输，军事等。

### 真题

1.2000 B

2.2001 B

3.2003 B

4.2004 A

5.2011 B

6.2012 B

7.2016 B

8.2018 B

9.2019 B

10.2020 B

11.。。。。。。